<section class="side-menu">
  <div>
    <h5 class="mb-0" id="toc-header">
      <button class="btn btn-link" data-toggle="collapse" data-target="#toc" aria-expanded="true" aria-controls="toc">
        Table of Contents
      </button>
    </h5>
    <div class="show collapse" id="toc" aria-labelledby="toc-header" data-parent=".side-menu">
      {{ .TableOfContents }}
    </div>
  </div>
  <div>
    <h5 class="mb-0" id="documentation-nav-header">
      <button class="btn btn-link collapsed" data-toggle="collapse" data-target="#documentation-nav"
        aria-expanded="false" aria-controls="documentation-nav">
        Navigation
      </button>
    </h5>
    <div class="doc-nav collapse" id="documentation-nav" aria-labelledby="documentation-nav-header"
      data-parent=".side-menu">
      <ul class="nav nav-pills flex-column">
        {{- $current := . -}}
        {{- range .Site.Menus.docs -}}
        <li
          class="nav-item{{if .HasChildren }} nav-parent{{end}}{{if and (.Page.IsAncestor $current) .HasChildren }} active-parent{{end}}">
          <div class="nav-link{{if (eq .URL $current.RelPermalink)}} active{{end}}">
            {{- if .HasChildren -}}<i
              class="fas {{if and (.Page.IsAncestor $current) .HasChildren }}fa-caret-down{{ else }}fa-caret-right{{end}}"></i>&nbsp;{{- end -}}
            <a href="{{.URL}}">{{ .Title }}</a>
          </div>
          {{- if (.HasChildren) -}}
          <ul class="nav nav-pills flex-column">
            {{- range .Children -}}
            <li class="nav-item">
              <a href="{{.URL}}" class="nav-link {{if (eq .URL $current.RelPermalink)}} active{{end}}">{{ .Title }}</a>
            </li>
            {{- end -}}
          </ul>
          {{- end -}}
        </li>
        {{- end -}}
      </ul>
    </div>
  </div>
</section>